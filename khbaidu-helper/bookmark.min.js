javascript: (function() {
	var n;
	var e = location.href;
	if(e.indexOf('https://pan.baidu.com/share/') == 0){
		n = document.querySelector('#accessCode').value;
	}else
	if(e.indexOf('https://pan.baidu.com/s/') == 0){
		n = '';
	}else{
		n = prompt("输入百度云链接", "");
		e = r(n + " ", "pan.baidu.com/s/", " ");
		"" != e && ("" == (n = r(n + " ", "提取码", " ").replace(":", "").replace("：", "")) && (n = prompt("输入百度云提取码(可空)", "")))
	}

	if(e !== ''){
		window.open("https://pan.kdbaidu.com/?url=" + encodeURI(e) + "&pwd=" + n);
	}

	function r(n, e, r) {
		var p = n.indexOf(e);
		if (-1 != p) {
			p += e.length;
			r = n.indexOf(r, p);
			if (-1 != r) return n.substr(p, r - p)
		}
		return ""
	}
})();
